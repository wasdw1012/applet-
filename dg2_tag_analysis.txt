DG2标签和COM断开问题分析
========================

标准DG2结构应该是：
-----------------
5F 1F - DG2标签（标准）
或
7F 61 - 生物特征数据模板标签（某些实现）

但你的数据是：
75 - 这不是标准的DG2标签！

问题分析：
=========

1. **标签75的含义**
   - Tag 75 在ISO 7816中是"Discretionary data for issuer"
   - 这通常用于智能卡的自定义数据
   - 不是ICAO 9303标准的DG2标签

2. **可能的情况**
   a) 数据被封装在专有格式中
   b) 这是某种加密或包装后的数据
   c) 读取时发生了偏移错误

3. **COM（Common）数据组问题**
   - COM通常是DG1之前的数据
   - 包含其他数据组的存在信息
   - 如果COM指示有DG2，但实际标签不匹配，会导致解析失败

标准的读取流程：
==============
1. 读取EF.COM - 获取数据组列表
2. 如果COM显示有DG2，读取EF.DG2
3. 期望看到5F 1F标签
4. 但实际看到75标签 → 解析失败 → 应用断开

可能的解决方案：
==============

1. **检查读取偏移**
   - 可能需要跳过某些字节
   - 或者数据被包装在另一层结构中

2. **检查是否是安全消息**
   - Tag 75可能表示数据被SM（Secure Messaging）保护
   - 需要先解密或验证MAC

3. **原始DG2位置**
   - 真正的DG2数据可能在75标签的内容中
   - 尝试在75的内容中查找5F 1F或7F 61

调试建议：
=========
1. 读取完整的EF.DG2文件
2. 搜索5F 1F或7F 61标签
3. 检查是否有安全层包装
4. 验证COM中的DG2声明是否正确

可能的数据结构：
==============
75 [长度] 
  [可能的安全头]
  5F 1F [长度]  ← 真正的DG2可能在这里
    7F 61 ...

或者：
75 [长度]
  87 [加密数据]  ← DG2可能被加密
  99 [MAC]